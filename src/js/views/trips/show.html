<h4>{{ tripsShow.trip.name }}</h4>
<p>{{ tripsShow.trip.country }}</p>
<p>{{ tripsShow.trip.info }}</p>
<img ng-src="{{ tripsShow.trip.image_src }}">
<ul>
  <li ng-repeat="leg in tripsShow.trip.legs">{{ leg.name }} | lat: {{ leg.lat }} lng: {{ leg.lng }} <p>Current weather: {{ leg.weather.currently.temperature }} {{ tripsShow.weather.currently.temperature }}</p></li>
</ul>
<google-map legs="tripsShow.trip.legs"></google-map>

<h5>Who's coming with us:</h5>
<ul>
  <li ng-repeat="attendee in tripsShow.trip.attendees">{{ attendee.username }}</li>
</ul>
<button ng-click="tripsShow.toggleAttending()" ng-if="main.isAuthenticated() && !tripsShow.isAttending()">Attend</button>
<button ng-click="tripsShow.toggleAttending()" ng-if="main.isAuthenticated() && tripsShow.isAttending()">Leave</button>


<div class="comments">
  <div class="row">
    <div class="col-md-6">
      <h2>Comments</h2>
      <ul>
        <li ng-repeat="comment in tripsShow.trip.comments">{{ comment.body }} - <strong>{{ comment.user.username }}</strong><button ng-click="tripsShow.deleteComment(comment)" ng-if="main.isAuthenticated() && main.currentUser.id === comment.user.id">Delete</button></li>
      </ul>
    </div>
    <div class="col-md-6" ng-if="main.isAuthenticated()">
      <h2>Add Comment</h2>
      <form ng-submit="tripsShow.addComment()">
        <textarea type="text" name="body" ng-model="tripsShow.comment.body"></textarea>
        <button>Create</button>
      </form>
    </div>
  </div>
</div>
